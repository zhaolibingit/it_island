# 源码解读（1.18.2）

#### 开启k8s源码解读，在此记录下

#### 目标

* 学习 提升 go 语言能力
* 深入理解k8s 
* 参与社区

#### 方法  参考（[https://www.cnblogs.com/cloudgeek/p/9939233.html](https://www.cnblogs.com/cloudgeek/p/9939233.html)）

第一步：熟悉k8s的基本功能，理解各个组件的分工，做到心中有数，但是不拘泥于掌握每一个功能细节，因为很多特性在日常开发中很难用到（比如各种alpha阶段的api，生产中不会让用的）。

第二步：选定第一个要深入研究的组件，概览其支持的所有子命令和flag，知道该组件能实现哪些功能（知道基于什么实现，和哪些组件打交道），比如看kube-proxy至少先知道是用iptables实现的，得先补补iptables的知识。

第三步：选定源码版本，不要追求master分支，天天变想想也心累啊！建议选一个相对新的，或者是你们公司正在使用的版本

第四步：准备编译、测试环境。也就是一个至少能够把你看的组件编译出来，能够运行起来后debug的环境，这样才能在debug中看各种你在读源码时不理解的对象在运行中到底存了哪些数据。

第五步：最快的速度抓住代码主线，泛读源码。

第六步：针对特定功能精读，调试，深入理解。

第七步：整体精读，适当深入三方库，公共库，绘制整理单个组件架构图、流程图等，帮助自己理解整个组件工作全流程，在平时使用中遇到bug后能够快速反应过来是哪个模块的问题。

最后：读完所有组件后融会贯通，理解各种公共库的抽取逻辑，整个k8s了然于胸！





